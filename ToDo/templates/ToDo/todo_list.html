{% extends 'account/base.html' %}

{% block content %}
    <div class="d-flex justify-content-center">
        <a href="{% url 'todo-list' %}">
            <button type="button"
                    class="btn btn-{% if not completed %}primary{% else %}secondary{% endif %} btn-sm mt-3 mx-1">Current
            </button>
        </a>
        <a href="{% url 'todo-list-completed' %}">
            <button type="button"
                    class="btn btn-{% if not completed %}secondary{% else %}primary{% endif %} btn-sm mt-3 mx-1">
                Completed
            </button>
        </a>
    </div>

    <ol class="list-group list-group-numbered mt-4">
        {% for todo in object_list %}
            <li class="list-group-item d-flex justify-content-between align-items-start">
                <div class="ms-2 me-auto">
                    <a class="text-black text-decoration-none"
                       {% if not completed %}href="{% url 'todo-update' todo.pk %}"{% endif %}>
                        <div class="fw-bold">{{ todo|linebreaks }}</div>

                    </a>
                </div>

                <div class="">
                    {% if completed %}
                        <small class="mx-3">Completed {{ todo.modified|timesince }} ago.</small>
                    {% else %}
                        <small class="mx-3">Modified {{ todo.modified|timesince }} ago.</small>
                    {% endif %}

                    {% if completed %}
                        <a href="{% url 'todo-delete' todo.pk %}"><span
                                class="badge bg-primary rounded-pill">Delete</span></a>
                    {% else %}
                        <a href="{% url 'todo-complete' todo.pk %}"><span
                                class="badge bg-primary rounded-pill">&#10003;</span></a>
                    {% endif %}
                </div>
            </li>
        {% empty %}
            {% if completed %}
                List of completed tasks is empty.
            {% else %}
                Your tasks list is empty. Add something to do.
            {% endif %}
        {% endfor %}
    </ol>
{% endblock %}


